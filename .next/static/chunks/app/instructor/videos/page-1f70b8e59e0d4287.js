(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[940],{8654:function(e,t,l){Promise.resolve().then(l.bind(l,5809))},5809:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return UploadVideoQuizPage}});var a=l(7437),s=l(2265),r=l(4997),i=l(2445),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o=((e,t)=>{let l=(0,s.forwardRef)(({color:l="currentColor",size:a=24,strokeWidth:r=2,absoluteStrokeWidth:i,children:o,...d},u)=>(0,s.createElement)("svg",{ref:u,...n,width:a,height:a,stroke:l,strokeWidth:i?24*Number(r)/Number(a):r,className:`lucide lucide-${toKebabCase(e)}`,...d},[...t.map(([e,t])=>(0,s.createElement)(e,t)),...(Array.isArray(o)?o:[o])||[]]));return l.displayName=`${e}`,l})("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);function UploadVideoQuizPage(){let[e,t]=(0,s.useState)([]),[l,n]=(0,s.useState)([]),[d,u]=(0,s.useState)(""),[c,x]=(0,s.useState)(""),[m,p]=(0,s.useState)(""),[b,h]=(0,s.useState)(""),[f,g]=(0,s.useState)(""),[v,y]=(0,s.useState)([""]),[j,w]=(0,s.useState)("");(0,s.useEffect)(()=>{let loadProjects=async()=>{let{data:e,error:l}=await i.Z.from("electrical_projects").select("id, name");l||t(e)};loadProjects()},[]),(0,s.useEffect)(()=>{let loadPlanSets=async()=>{if(!d)return;let{data:e,error:t}=await i.Z.from("electrical_plan_sets").select("id, title").eq("project_id",d);t||n(e)};loadPlanSets()},[d]);let handleSubmit=async()=>{if(!d||!c||!m||!b){alert("All fields are required.");return}let{data:e,error:t}=await i.Z.from("electrical_quizzes").insert([{project_id:d,plan_set_id:c,title:b,description:f}]).select();if(t||!(null==e?void 0:e[0])){w("Failed to save quiz.");return}let l=e[0].id;for(let e of v)e.trim()&&await i.Z.from("electrical_quiz_questions").insert([{quiz_id:l,question_text:e}]);w("âœ… Video + quiz saved!"),h(""),g(""),y([""]),p("")};return(0,a.jsx)("main",{className:"min-h-screen bg-slate-950 text-white py-12 px-6",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-yellow-400",children:"\uD83C\uDFA5 Upload Instructional Video + Quiz"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("label",{className:"text-blue-100 text-sm font-medium",children:"Select Project"}),(0,a.jsxs)("select",{value:d,onChange:e=>u(e.target.value),className:"w-full bg-slate-800 px-4 py-2 rounded-xl border border-slate-700",children:[(0,a.jsx)("option",{value:"",children:"-- Select Project --"}),e.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("label",{className:"text-blue-100 text-sm font-medium",children:"Select Plan Set"}),(0,a.jsxs)("select",{value:c,onChange:e=>x(e.target.value),className:"w-full bg-slate-800 px-4 py-2 rounded-xl border border-slate-700",children:[(0,a.jsx)("option",{value:"",children:"-- Select Plan Set --"}),l.map(e=>(0,a.jsx)("option",{value:e.id,children:e.title},e.id))]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("label",{className:"text-blue-100 text-sm font-medium",children:"Video URL"}),(0,a.jsx)("input",{value:m,onChange:e=>p(e.target.value),placeholder:"e.g., https://youtu.be/...",className:"w-full bg-slate-800 px-4 py-2 rounded-xl border border-slate-700"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("label",{className:"text-blue-100 text-sm font-medium",children:"Quiz Title"}),(0,a.jsx)("input",{value:b,onChange:e=>h(e.target.value),className:"w-full bg-slate-800 px-4 py-2 rounded-xl border border-slate-700"}),(0,a.jsx)("label",{className:"text-blue-100 text-sm font-medium",children:"Description"}),(0,a.jsx)("textarea",{value:f,onChange:e=>g(e.target.value),className:"w-full bg-slate-800 px-4 py-2 rounded-xl border border-slate-700"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("label",{className:"text-blue-100 text-sm font-medium",children:"Quiz Questions"}),v.map((e,t)=>(0,a.jsx)("input",{value:e,onChange:e=>{let l=[...v];l[t]=e.target.value,y(l)},className:"w-full bg-slate-800 px-4 py-2 rounded-xl border border-slate-700 mb-2",placeholder:"Question ".concat(t+1)},t)),(0,a.jsx)(r.z,{className:"bg-blue-700 hover:bg-blue-600 text-white rounded-xl",onClick:()=>y([...v,""]),children:"Add Question"})]}),(0,a.jsxs)(r.z,{onClick:handleSubmit,className:"bg-yellow-400 text-black text-lg px-6 py-3 rounded-xl shadow-md hover:scale-105 flex gap-2 items-center",children:[(0,a.jsx)(o,{size:18})," Save Video + Quiz"]}),j&&(0,a.jsx)("p",{className:"text-green-400 font-semibold mt-4",children:j})]})})}},4997:function(e,t,l){"use strict";l.d(t,{z:function(){return n}});var a=l(7437),s=l(2265);function cn(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];return t.filter(Boolean).join(" ")}let r={default:"bg-yellow-400 text-black hover:bg-yellow-300",destructive:"bg-red-600 text-white hover:bg-red-500",outline:"border border-white text-white hover:bg-white hover:text-black"},i={sm:"px-3 py-1 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"},n=(0,s.forwardRef)((e,t)=>{let{className:l,variant:s="default",size:n="md",...o}=e;return(0,a.jsx)("button",{ref:t,className:cn("inline-flex items-center justify-center font-medium rounded-xl transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",r[s],i[n],l),...o})});n.displayName="Button"},2445:function(e,t,l){"use strict";var a=l(1492);let s=(0,a.eI)("https://your-project-id.supabase.co","your-anon-key");t.Z=s}},function(e){e.O(0,[935,971,472,744],function(){return e(e.s=8654)}),_N_E=e.O()}]);