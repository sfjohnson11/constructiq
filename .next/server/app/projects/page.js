(()=>{var e={};e.id=895,e.ids=[895],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},5441:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>d,routeModule:()=>x,tree:()=>l});var s=r(7096),a=r(6132),o=r(7284),i=r.n(o),n=r(2564),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);r.d(t,c);let l=["",{children:["projects",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,8728)),"/workspaces/constructiq/app/projects/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,5345)),"/workspaces/constructiq/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"]}],d=["/workspaces/constructiq/app/projects/page.tsx"],p="/projects/page",u={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/projects/page",pathname:"/projects",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},2834:(e,t,r)=>{Promise.resolve().then(r.bind(r,9225))},9225:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ProjectsPage});var s=r(784),a=r(9885),o=r(7114),i=r(1314),n=r(1440),c=r.n(n),l=r(6568);function ProjectsPage(){let[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(null);return(0,o.useRouter)(),(0,a.useEffect)(()=>{let fetchRoleAndProjects=async()=>{let{data:{user:e},error:r}=await l.Z.auth.getUser();if(r||!e)return;let{data:s}=await l.Z.from("user_profiles").select("role").eq("id",e.id).single();s?.role&&n(s.role);let{data:a}=await l.Z.from("electrical_projects").select("*").order("created_at",{ascending:!1});t(a||[])};fetchRoleAndProjects()},[]),s.jsx("main",{className:"min-h-screen bg-slate-950 text-white py-10 px-6",children:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto space-y-8",children:[(0,s.jsxs)("header",{children:[s.jsx("h1",{className:"text-4xl font-bold text-yellow-400 mb-2",children:"Electrical Projects"}),s.jsx("p",{className:"text-slate-300",children:"instructor"===r?"Manage your estimating projects and plan sets.":"Select a project below to begin studying and estimating."})]}),"instructor"===r&&s.jsx("div",{className:"flex justify-end",children:s.jsx(c(),{href:"/instructor/upload",children:s.jsx(i.z,{className:"bg-yellow-400 text-black hover:bg-yellow-300 px-5 py-2 text-md font-semibold",children:"+ Add New Project"})})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,s.jsxs)("div",{className:"bg-slate-800 p-6 rounded-2xl shadow-lg border border-slate-700",children:[s.jsx("h2",{className:"text-xl font-bold text-yellow-300 mb-2",children:e.name}),s.jsx("p",{className:"text-slate-300 mb-4",children:e.description}),s.jsx(c(),{href:`/projects/${e.id}`,children:s.jsx(i.z,{className:"bg-blue-600 hover:bg-blue-500 text-white w-full",children:"instructor"===r?"Manage Project":"Start Training"})})]},e.id))})]})})}},8728:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>o,default:()=>c});var s=r(5153);let a=(0,s.createProxy)(String.raw`/workspaces/constructiq/app/projects/page.tsx`),{__esModule:o,$$typeof:i}=a,n=a.default,c=n},1440:(e,t,r)=>{e.exports=r(614)},7114:(e,t,r)=>{e.exports=r(4979)}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[472,891,614,944,726],()=>__webpack_exec__(5441));module.exports=r})();