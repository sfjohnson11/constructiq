(()=>{var e={};e.id=940,e.ids=[940],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},4145:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>c,routeModule:()=>x,tree:()=>u});var r=s(7096),a=s(6132),l=s(7284),i=s.n(l),o=s(2564),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);s.d(t,n);let u=["",{children:["instructor",{children:["videos",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3040)),"/workspaces/constructiq/app/instructor/videos/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,5345)),"/workspaces/constructiq/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],c=["/workspaces/constructiq/app/instructor/videos/page.tsx"],d="/instructor/videos/page",p={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/instructor/videos/page",pathname:"/instructor/videos",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},6385:(e,t,s)=>{Promise.resolve().then(s.bind(s,8706))},8706:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>UploadVideoQuizPage});var r=s(784),a=s(9885),l=s(1314),i=s(6568),o=s(5015);function UploadVideoQuizPage(){let[e,t]=(0,a.useState)([]),[s,n]=(0,a.useState)([]),[u,c]=(0,a.useState)(""),[d,p]=(0,a.useState)(""),[x,m]=(0,a.useState)(""),[h,b]=(0,a.useState)(""),[g,v]=(0,a.useState)(""),[f,j]=(0,a.useState)([""]),[_,q]=(0,a.useState)("");(0,a.useEffect)(()=>{let loadProjects=async()=>{let{data:e,error:s}=await i.Z.from("electrical_projects").select("id, name");s||t(e)};loadProjects()},[]),(0,a.useEffect)(()=>{let loadPlanSets=async()=>{if(!u)return;let{data:e,error:t}=await i.Z.from("electrical_plan_sets").select("id, title").eq("project_id",u);t||n(e)};loadPlanSets()},[u]);let handleSubmit=async()=>{if(!u||!d||!x||!h){alert("All fields are required.");return}let{data:e,error:t}=await i.Z.from("electrical_quizzes").insert([{project_id:u,plan_set_id:d,title:h,description:g}]).select();if(t||!e?.[0]){q("Failed to save quiz.");return}let s=e[0].id;for(let e of f)e.trim()&&await i.Z.from("electrical_quiz_questions").insert([{quiz_id:s,question_text:e}]);q("âœ… Video + quiz saved!"),b(""),v(""),j([""]),m("")};return r.jsx("main",{className:"min-h-screen bg-slate-950 text-white py-12 px-6",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-yellow-400",children:"\uD83C\uDFA5 Upload Instructional Video + Quiz"}),(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("label",{className:"text-blue-100 text-sm font-medium",children:"Select Project"}),(0,r.jsxs)("select",{value:u,onChange:e=>c(e.target.value),className:"w-full bg-slate-800 px-4 py-2 rounded-xl border border-slate-700",children:[r.jsx("option",{value:"",children:"-- Select Project --"}),e.map(e=>r.jsx("option",{value:e.id,children:e.name},e.id))]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("label",{className:"text-blue-100 text-sm font-medium",children:"Select Plan Set"}),(0,r.jsxs)("select",{value:d,onChange:e=>p(e.target.value),className:"w-full bg-slate-800 px-4 py-2 rounded-xl border border-slate-700",children:[r.jsx("option",{value:"",children:"-- Select Plan Set --"}),s.map(e=>r.jsx("option",{value:e.id,children:e.title},e.id))]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("label",{className:"text-blue-100 text-sm font-medium",children:"Video URL"}),r.jsx("input",{value:x,onChange:e=>m(e.target.value),placeholder:"e.g., https://youtu.be/...",className:"w-full bg-slate-800 px-4 py-2 rounded-xl border border-slate-700"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("label",{className:"text-blue-100 text-sm font-medium",children:"Quiz Title"}),r.jsx("input",{value:h,onChange:e=>b(e.target.value),className:"w-full bg-slate-800 px-4 py-2 rounded-xl border border-slate-700"}),r.jsx("label",{className:"text-blue-100 text-sm font-medium",children:"Description"}),r.jsx("textarea",{value:g,onChange:e=>v(e.target.value),className:"w-full bg-slate-800 px-4 py-2 rounded-xl border border-slate-700"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("label",{className:"text-blue-100 text-sm font-medium",children:"Quiz Questions"}),f.map((e,t)=>r.jsx("input",{value:e,onChange:e=>{let s=[...f];s[t]=e.target.value,j(s)},className:"w-full bg-slate-800 px-4 py-2 rounded-xl border border-slate-700 mb-2",placeholder:`Question ${t+1}`},t)),r.jsx(l.z,{className:"bg-blue-700 hover:bg-blue-600 text-white rounded-xl",onClick:()=>j([...f,""]),children:"Add Question"})]}),(0,r.jsxs)(l.z,{onClick:handleSubmit,className:"bg-yellow-400 text-black text-lg px-6 py-3 rounded-xl shadow-md hover:scale-105 flex gap-2 items-center",children:[r.jsx(o.Z,{size:18})," Save Video + Quiz"]}),_&&r.jsx("p",{className:"text-green-400 font-semibold mt-4",children:_})]})})}},3040:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>l,default:()=>n});var r=s(5153);let a=(0,r.createProxy)(String.raw`/workspaces/constructiq/app/instructor/videos/page.tsx`),{__esModule:l,$$typeof:i}=a,o=a.default,n=o}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[472,891,924,944,726],()=>__webpack_exec__(4145));module.exports=s})();